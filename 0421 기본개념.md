# DRF를 활용한 REST API 서버 구축하기

<br>

```python
# serializers.py

class ArticleListSerializer(serializers.ModelSerializers):    # 모든 게시글
    class Meta:
        model Article
        fields = ('id', 'title',)

class ArticleSerializer(serializers.ModelSerializers):        # 게시글 디테일
    class Meta:
        model = Article
        fields = "__all__"
```

<br>

```python
# articles/urls.py

urlpatterns = [                              # 프로젝트 url.py 에서 api/v1/ 까지 처리
    path('articles/', views.article_index) # GET, POST
    path('articles/<int:article_pk>/', views.article_detail) # POST, PUT, DELETE
]
```

<br>

```python
# articles/views.py

@api_view(['GET', 'POST'])
def article_index(request):
    if request.method == 'GET':
        articles = get_list_or_404(Article)
        serializer = ArticleListSerializer(articles, many=True)
    	return Response(serializer.data)
    
    elif request.method == 'POST':
        serializer = ArticleSerializer(data=request.data)
        
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data)
        else:
            return Response(serializer.errors, status.HTTP_400_BAD_REQUEST)
        
        
        
@api_view(['GET', 'DELETE', 'PUT'])
def article_detail(request, article_pk):
    article = get_object_or_404(Article, pk=article_pk)
    
    if request.method == 'GET':
        serializer = ArticleSerializer(article)
        return Response(serializer.data)
	
    
    elif request.method == 'PUT':
        serializer = ArticleSerializer(article, request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data)
        else:
            return Response(serializer.errors, status.HTTP_400_BAD_REQUEST)
    
    
    elif request.method == 'DELETE':
        article.delete()
        data = {
            'delete': f'삭제된 데이터의 ID는 {article_pk} 번 입니다.',
        }
        return Response(data, status=status.HTTP_204_NO_CONTENT)

```

<br>